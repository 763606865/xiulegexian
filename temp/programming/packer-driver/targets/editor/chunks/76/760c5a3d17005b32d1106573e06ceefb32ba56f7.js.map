{"version":3,"sources":["file:///C:/Users/Administrator/Desktop/Cocos/ZA/%E4%BF%AE%E4%BA%86%E4%B8%AA%E4%BB%99/assets/script/hero/weapon/SkyThunder.ts"],"names":["_decorator","Animation","tagData","Weapon","ccclass","property","SkyThunder","init","data","lv","initWeaponInfo","initBoxCollider","sword","x","y","node","getComponent","play","update","dt","weaponDuration","colliderMonster","other","isStopRun","isHasAttacked","uuid","updateMonsterBlood","_hasAttackedEnemies","push","_canAttackTimes","recoveryToPool"],"mappings":";;;;;;;;;;;;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAA4CC,MAAAA,S,OAAAA,S;;AAEhCC,MAAAA,O,iBAAAA,O;;AAGZC,MAAAA,M,iBAAAA,M;;;;;;;;;OACH;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBL,U;;4BAGjBM,U,WADZF,OAAO,CAAC,YAAD,C,gBAAR,MACaE,UADb;AAAA;AAAA,4BACuC;AAEnC;AACAC,QAAAA,IAAI,CAACC,IAAD,EAAOC,EAAP,EAAW;AACX,eAAKC,cAAL,CAAoBD,EAApB,EAAwBD,IAAxB;AACA,eAAKG,eAAL,CAAqB;AAAA;AAAA,kCAAQC,KAA7B,EAAoC;AAAEC,YAAAA,CAAC,EAAE,CAAC,EAAN;AAAUC,YAAAA,CAAC,EAAE,CAAC;AAAd,WAApC;AACA,eAAKC,IAAL,CAAUC,YAAV,CAAuBf,SAAvB,EAAkCgB,IAAlC;AACH;;AACDC,QAAAA,MAAM,CAACC,EAAD,EAAI;AACN,eAAKC,cAAL,CAAoBD,EAApB;AACH;;AACDE,QAAAA,eAAe,CAACC,KAAD,EAAQ;AACnB,cAAI,KAAKC,SAAL,CAAeD,KAAf,CAAJ,EAA2B;AAC3B,cAAI,KAAKE,aAAL,CAAmBF,KAAK,CAACP,IAAN,CAAWU,IAA9B,CAAJ,EAAyC,OAFtB,CAE6B;;AAChD,eAAKC,kBAAL,CAAwBJ,KAAxB;;AACA,eAAKK,mBAAL,CAAyBC,IAAzB,CAA8BN,KAAK,CAACP,IAAN,CAAWU,IAAzC;;AACA,eAAKI,eAAL;AACA,cAAI,KAAKA,eAAL,IAAwB,CAA5B,EAA+B,KAAKC,cAAL,CAAoB,2BAApB;AAClC;;AAlBkC,O","sourcesContent":["import { _decorator, Component, Node, BoxCollider2D, Animation, UITransform, Size, Contact2DType, NodePool } from 'cc';\r\nimport { em } from '../../global/EventManager';\r\nimport { groupIndex, tagData } from '../../global/globalData';\r\nimport { plm } from '../../global/PoolManager';\r\nimport { Sword } from './Sword';\r\nimport { Weapon } from './Weapon';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('SkyThunder')\r\nexport class SkyThunder extends Weapon {\r\n\r\n    // _recoveryCount: number = 0;\r\n    init(data, lv) {\r\n        this.initWeaponInfo(lv, data);\r\n        this.initBoxCollider(tagData.sword, { x: -50, y: -30 });\r\n        this.node.getComponent(Animation).play();\r\n    }\r\n    update(dt){\r\n        this.weaponDuration(dt);\r\n    }\r\n    colliderMonster(other) {\r\n        if (this.isStopRun(other)) return;\r\n        if (this.isHasAttacked(other.node.uuid)) return;//已经被雷攻击过的对象 忽略后续攻击\r\n        this.updateMonsterBlood(other);\r\n        this._hasAttackedEnemies.push(other.node.uuid);\r\n        this._canAttackTimes--;\r\n        if (this._canAttackTimes <= 0) this.recoveryToPool(\"this._canAttackTimes <= 0\");\r\n    }\r\n\r\n\r\n}\r\n\r\n\r\n"]}