{"version":3,"sources":["file:///C:/Users/Administrator/Desktop/Cocos/%E4%BF%AE%E4%BA%86%E4%B8%AA%E4%BB%99/assets/script/game/GameAnimManager.ts"],"names":["_decorator","Component","em","ggd","ccclass","property","GameAnimManager","_animList","onDestroy","remove","onLoad","add","usingGameAnimManagerFun","bind","string","param","addAnimToList","anim","stopAll","pause","push","removeAnimFromList","index","indexOf","splice","pauseAllAnim","forEach","resumeAllAnim","console","log","resume"],"mappings":";;;;;;;;;;;;;;;;;;;;AAUSA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;;AACZC,MAAAA,E,iBAAAA,E;;AACAC,MAAAA,G,iBAAAA,G;;;;;;AAZT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;OAIM;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBL,U;;iCAGjBM,e,WADZF,OAAO,CAAC,iBAAD,C,gBAAR,MACaE,eADb,SACqCL,SADrC,CAC+C;AAAA;AAAA;AAAA,eAE3CM,SAF2C,GAE/B,EAF+B;AAAA;;AAG3CC,QAAAA,SAAS,GAAG;AACR;AAAA;AAAA,wBAAGC,MAAH,CAAU,yBAAV;AACH;;AACDC,QAAAA,MAAM,GAAG;AACL;AAAA;AAAA,wBAAGC,GAAH,CAAO,yBAAP,EAAkC,KAAKC,uBAAL,CAA6BC,IAA7B,CAAkC,IAAlC,CAAlC;AACH;;AACDD,QAAAA,uBAAuB,CAACE,MAAD,EAAS,GAAGC,KAAZ,EAAmB;AACtC,cAAI,KAAKD,MAAL,KAAgB,OAAO,KAAKA,MAAL,CAAP,IAAuB,UAA3C,EAAuD,OAAO,KAAKA,MAAL,EAAa,GAAGC,KAAhB,CAAP,CAAvD,KACK,MAAMD,MAAM,GAAG,0BAAf;AACR,SAZ0C,CAa3C;;;AACAE,QAAAA,aAAa,CAACC,IAAD,EAAkB;AAC3B,cAAG;AAAA;AAAA,0BAAIC,OAAP,EAAgBD,IAAI,CAACE,KAAL;;AAChB,eAAKZ,SAAL,CAAea,IAAf,CAAoBH,IAApB;AACH,SAjB0C,CAkB3C;;;AACAI,QAAAA,kBAAkB,CAACJ,IAAD,EAAkB;AAChC;AACA,cAAIK,KAAK,GAAG,KAAKf,SAAL,CAAegB,OAAf,CAAuBN,IAAvB,CAAZ;;AACA,cAAIK,KAAK,GAAG,CAAC,CAAb,EAAgB,KAAKf,SAAL,CAAeiB,MAAf,CAAsBF,KAAtB,EAA6B,CAA7B,EAAhB,KACK,MAAM,sBAAN;AACR,SAxB0C,CAyB3C;;;AACAG,QAAAA,YAAY,GAAG;AACX;AACA,eAAKlB,SAAL,CAAemB,OAAf,CAAuBT,IAAI,IAAI;AAC3BA,YAAAA,IAAI,CAACE,KAAL;AACH,WAFD;AAGH,SA/B0C,CAgC3C;;;AACAQ,QAAAA,aAAa,GAAG;AACZC,UAAAA,OAAO,CAACC,GAAR,CAAY,cAAZ;;AACA,eAAKtB,SAAL,CAAemB,OAAf,CAAuBT,IAAI,IAAI;AAC3BA,YAAAA,IAAI,CAACa,MAAL;AACH,WAFD;AAGH;;AAtC0C,O","sourcesContent":["/*\r\n * @Author: li_jiang_wei_12345 739671694@qq.com\r\n * @Date: 2022-11-02 11:40:55\r\n * @LastEditors: li_jiang_wei 739671694@qq.com\r\n * @LastEditTime: 2022-11-30 22:22:44\r\n * @FilePath: \\to-be-immortal\\assets\\script\\game\\GameAnimManager.ts\r\n * @Description: \r\n * \r\n * Copyright (c) 2022 by li_jiang_wei_12345 739671694@qq.com, All Rights Reserved. \r\n */\r\nimport { _decorator, Component, Node } from 'cc';\r\nimport { em } from '../global/EventManager';\r\nimport { ggd } from '../global/globalData';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('GameAnimManager')\r\nexport class GameAnimManager extends Component {\r\n\r\n    _animList = [];\r\n    onDestroy() {\r\n        em.remove(\"usingGameAnimManagerFun\");\r\n    }\r\n    onLoad() {\r\n        em.add(\"usingGameAnimManagerFun\", this.usingGameAnimManagerFun.bind(this));\r\n    }\r\n    usingGameAnimManagerFun(string, ...param) {\r\n        if (this[string] && typeof this[string] == \"function\") return this[string](...param);\r\n        else throw string + \" is not fun or undefined\";\r\n    }\r\n    //添加动画组件到list\r\n    addAnimToList(anim: Animation) {\r\n        if(ggd.stopAll) anim.pause();\r\n        this._animList.push(anim);\r\n    }\r\n    // 从list 移除anim\r\n    removeAnimFromList(anim: Animation) {\r\n        // console.log(\"移除anim：\",anim.node.uuid);\r\n        let index = this._animList.indexOf(anim);\r\n        if (index > -1) this._animList.splice(index, 1);\r\n        else throw \"anim is not in list.\";\r\n    }\r\n    //暂停list中所有的动画\r\n    pauseAllAnim() {\r\n        // console.log(\"暂停list中所有的动画\");\r\n        this._animList.forEach(anim => {\r\n            anim.pause();\r\n        });\r\n    }\r\n    //恢复所有list中的动画\r\n    resumeAllAnim() {\r\n        console.log(\"恢复所有list中的动画\");\r\n        this._animList.forEach(anim => {\r\n            anim.resume();\r\n        });\r\n    }\r\n\r\n\r\n\r\n}"]}