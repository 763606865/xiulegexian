{"version":3,"sources":["file:///C:/Users/Administrator/Desktop/Cocos/%E4%BF%AE%E4%BA%86%E4%B8%AA%E4%BB%99/assets/script/hero/equSystem/RotationAxePar.ts"],"names":["_decorator","Component","Node","ggd","plm","ccclass","property","RotationAxe","_moveSpeed","_duration","_weaponName","init","axe1","setPosition","axe2","setRotationFromEuler","getComponent","update","dt","stopAll","pos1","getPosition","pos2","x","y","z","putToPool","node"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;AAAWC,MAAAA,I,OAAAA,I;;AAEvBC,MAAAA,G,iBAAAA,G;;AACAC,MAAAA,G,iBAAAA,G;;;;;;;;;OAGH;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBN,U;;6BAGjBO,W,WADZF,OAAO,CAAC,aAAD,C,UAEHC,QAAQ,CAACJ,IAAD,C,UAERI,QAAQ,CAACJ,IAAD,C,2BAJb,MACaK,WADb,SACiCN,SADjC,CAC2C;AAAA;AAAA;;AAAA;;AAAA;;AAAA,eAMvCO,UANuC;AAAA,eAOvCC,SAPuC;AAAA,eAQvCC,WARuC;AAAA;;AASvCC,QAAAA,IAAI,GAAG;AACH,eAAKC,IAAL,CAAUC,WAAV,CAAsB,CAAC,GAAvB,EAA2B,CAA3B,EAA6B,CAA7B;AACA,eAAKC,IAAL,CAAUD,WAAV,CAAsB,GAAtB,EAA0B,CAA1B,EAA4B,CAA5B;AACA,eAAKD,IAAL,CAAUG,oBAAV,CAA+B,CAA/B,EAAiC,CAAjC,EAAmC,CAAnC;AACA,eAAKD,IAAL,CAAUC,oBAAV,CAA+B,CAA/B,EAAiC,CAAjC,EAAmC,CAAnC;AACA,eAAKP,UAAL,GAAkB,GAAlB;AACA,eAAKC,SAAL,GAAiB,GAAjB;AACA,eAAKC,WAAL,GAAmB,aAAnB;AACA,eAAKE,IAAL,CAAUI,YAAV,CAAuB,kBAAvB,EAA2CL,IAA3C;AACA,eAAKG,IAAL,CAAUE,YAAV,CAAuB,kBAAvB,EAA2CL,IAA3C;AACH;;AACDM,QAAAA,MAAM,CAACC,EAAD,EAAK;AACP,cAAI;AAAA;AAAA,0BAAIC,OAAR,EAAiB;AACjB,cAAIC,IAAI,GAAG,KAAKR,IAAL,CAAUS,WAAV,EAAX;AACA,cAAIC,IAAI,GAAG,KAAKR,IAAL,CAAUO,WAAV,EAAX;AACA,eAAKT,IAAL,CAAUC,WAAV,CAAsBO,IAAI,CAACG,CAAL,GAASL,EAAE,GAAG,KAAKV,UAAzC,EAAqDY,IAAI,CAACI,CAA1D,EAA6DJ,IAAI,CAACK,CAAlE;AACA,eAAKX,IAAL,CAAUD,WAAV,CAAsBS,IAAI,CAACC,CAAL,GAASL,EAAE,GAAG,KAAKV,UAAzC,EAAqDc,IAAI,CAACE,CAA1D,EAA6DF,IAAI,CAACG,CAAlE;AACA,eAAKhB,SAAL,IAAkBS,EAAlB;;AACA,cAAI,KAAKT,SAAL,IAAkB,CAAtB,EAAyB;AACrB;AAAA;AAAA,4BAAIiB,SAAJ,CAAc,KAAKhB,WAAnB,EAAgC,KAAKiB,IAArC,EAA2C,IAA3C;AACH;AACJ;;AA9BsC,O","sourcesContent":["import { _decorator, Component, Node, BoxCollider2D, Contact2DType } from 'cc';\r\nimport { em } from '../../global/EventManager';\r\nimport { ggd, groupIndex, tagData } from '../../global/globalData';\r\nimport { plm } from '../../global/PoolManager';\r\nimport { Weapon } from '../weapon/Weapon';\r\n\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('RotationAxe')\r\nexport class RotationAxe extends Component {\r\n    @property(Node)\r\n    axe1;\r\n    @property(Node)\r\n    axe2;\r\n\r\n    _moveSpeed:number\r\n    _duration:number;\r\n    _weaponName:string;\r\n    init() {\r\n        this.axe1.setPosition(-100,0,0);\r\n        this.axe2.setPosition(100,0,0);\r\n        this.axe1.setRotationFromEuler(0,0,0);\r\n        this.axe2.setRotationFromEuler(0,0,0);\r\n        this._moveSpeed = 120;\r\n        this._duration = 3.5;\r\n        this._weaponName = \"rotationAxe\";\r\n        this.axe1.getComponent(\"RotationAxeChild\").init();\r\n        this.axe2.getComponent(\"RotationAxeChild\").init();\r\n    }\r\n    update(dt) {\r\n        if (ggd.stopAll) return;\r\n        let pos1 = this.axe1.getPosition();\r\n        let pos2 = this.axe2.getPosition();\r\n        this.axe1.setPosition(pos1.x - dt * this._moveSpeed, pos1.y, pos1.z);\r\n        this.axe2.setPosition(pos2.x + dt * this._moveSpeed, pos2.y, pos2.z);\r\n        this._duration -= dt;\r\n        if (this._duration <= 0) {\r\n            plm.putToPool(this._weaponName, this.node, true);\r\n        }\r\n    }\r\n}\r\n\r\n\r\n"]}