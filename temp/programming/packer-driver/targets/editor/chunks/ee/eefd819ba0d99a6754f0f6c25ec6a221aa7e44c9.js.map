{"version":3,"sources":["file:///C:/Users/Administrator/Desktop/Cocos/%E4%BF%AE%E4%BA%86%E4%B8%AA%E4%BB%99/assets/script/system/HeroBaseProperty.ts"],"names":["_decorator","Component","JsonAsset","director","em","ccclass","property","HeroBaseProperty","_heroData","_trainingLvList","_skillBookList","_bossDataList","_equQualityList","_equLevelList","_equEffectList","_percentageBloodLv","_percentageDamageLv","_moveSpeedLv","_percentageMoveSpeedLv","_criticalHitRateLv","_bonusBulletTotalLv","_bonusBulletMoveSpeedLv","_bonusBulletAttackTimesLv","_recoveryHealthyLv","_expAdditionLv","_divineStoneAdditionLv","_heroCurEqu","onDestroy","remove","onLoad","heroPropertyDataJson","json","trainingLvListJson","initSkillBookData","initBossConfigList","initEquData","add","usingHeroBasePropertyFun","bind","addPersistRootNode","node","start","initHeroCurEqu","all","skillBookListJson","forEach","element","name","name2","bossDataListJson","id","all1","equQualityListJson","all2","arr","equLevelListJsonArr","list","concat","all3","equEffectListJson","data","dispatch","key","Object","prototype","hasOwnProperty","call","onEnable","initBasePropertyLv","config","percentageBloodLv","percentageDamageLv","percentageMoveSpeedLv","moveSpeedLv","criticalHitRateLv","bonusBulletTotalLv","bonusBulletMoveSpeedLv","bonusBulletAttackTimesLv","recoveryHealthyLv","expAdditionLv","divineStoneAdditionLv","savingLvData","string","param","getHeroBaseProperty","lv","getHeroBasePropertyLvDetail","getHeroBasePropertyCurLv","upgradeBaseProperty","getTrainingData","curLv","getAllAboutSkillBook","getSkillBookDataByIdOrName","id_name","getAllEquData","getEquNameByType","type","getEquDataByName","nameString","qIndex","indexOf","qKey","slice","lKey","qValue","lValue","console","log","qData","lData","switchEqu","equString","savingEquData","getCurHeroEqu","getCurHeroUsingWeaponData","getCurHeroUsingWeaponType","法器","getEquEffectData","getBasePropertyValueByEqu","BPV","effectList","baseDamage","moveSpeed","blood","CHR","CHD","bonusCHD","bonusBulletTotal","bonusBulletAttackTimes","bonusMoveSpeed","bonusBackDis","slowResistance","damageReduce","slowPer","equName","equData","effects","effect","push","key2","value","getValidValueByEffects","addEffectsValue","getBossDataById"],"mappings":"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","sourcesContent":["\r\nimport { _decorator, Component, Node, JsonAsset, game, director } from 'cc';\r\nimport { em } from '../global/EventManager';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('HeroBaseProperty')\r\nexport class HeroBaseProperty extends Component {\r\n    @property(JsonAsset)\r\n    heroPropertyDataJson;\r\n    @property(JsonAsset)\r\n    trainingLvListJson;\r\n    @property(JsonAsset)\r\n    skillBookListJson;\r\n    @property(JsonAsset)\r\n    bossDataListJson;\r\n    @property(JsonAsset)\r\n    equQualityListJson;\r\n    @property(JsonAsset)\r\n    equEffectListJson;\r\n    @property(JsonAsset)\r\n    equLevelListJsonArr: JsonAsset[] = [];\r\n\r\n    _heroData;\r\n\r\n    _trainingLvList;\r\n    _skillBookList = {};\r\n    _bossDataList = {};\r\n    _equQualityList = {};\r\n    _equLevelList = {};\r\n    _equEffectList = {};\r\n    _percentageBloodLv: number;\r\n    _percentageDamageLv: number;\r\n    _moveSpeedLv: number;\r\n    _percentageMoveSpeedLv: number;\r\n    _criticalHitRateLv: number;\r\n    _bonusBulletTotalLv: number;\r\n    _bonusBulletMoveSpeedLv: number;\r\n    _bonusBulletAttackTimesLv: number;\r\n    _recoveryHealthyLv: number;\r\n    _expAdditionLv: number;\r\n    _divineStoneAdditionLv: number;\r\n\r\n    //玩家当前装备\r\n    _heroCurEqu = {\r\n        \"法器\": \"\",\r\n        \"防具\": \"\",\r\n        \"鞋\": \"\",\r\n    }\r\n    onDestroy() {\r\n        em.remove(\"usingHeroBasePropertyFun\");\r\n    }\r\n    onLoad() {\r\n        this._heroData = this.heroPropertyDataJson.json[0];\r\n        this._trainingLvList = this.trainingLvListJson.json;\r\n        this.initSkillBookData();\r\n        this.initBossConfigList();\r\n        this.initEquData();\r\n        em.add(\"usingHeroBasePropertyFun\", this.usingHeroBasePropertyFun.bind(this));\r\n        director.addPersistRootNode(this.node);//背包物品在各个场景皆可用到 设置为常驻节点\r\n    }\r\n    start() {\r\n        this.initHeroCurEqu();\r\n        // this.getBasePropertyValueByEqu();\r\n    }\r\n    // 初始化功法秘籍数据\r\n    initSkillBookData() {\r\n        let all = this.skillBookListJson.json;\r\n        all.forEach(element => {\r\n            // let id = element.id;\r\n            let name = element.name;\r\n            let name2 = element.name2;\r\n            // this._skillBookList[id] = element;\r\n            this._skillBookList[name] = element;\r\n            this._skillBookList[name2] = element;\r\n        });\r\n    }\r\n\r\n    // 初始化boss配置列表\r\n    initBossConfigList() {\r\n        let all = this.bossDataListJson.json;\r\n        all.forEach(element => {\r\n            let id = element.id;\r\n            this._bossDataList[id] = element;\r\n        });\r\n        // console.log(\"_bossDataList\",this._bossDataList);\r\n    }\r\n    // 初始化装备数据\r\n    initEquData() {\r\n        let all1 = this.equQualityListJson.json;\r\n        let all2: any = (() => {\r\n            let arr = [];\r\n            this.equLevelListJsonArr.forEach((list) => {\r\n                arr = arr.concat(list.json);\r\n            });\r\n            return arr;\r\n        })();\r\n        let all3 = this.equEffectListJson.json;\r\n        // console.log(\"all1\", all1);\r\n        // console.log(\"all2\", all2);\r\n        // console.log(\"all3\", all3);\r\n\r\n        all1.forEach(element => {//初始化品级\r\n            let name = element.name;\r\n            this._equQualityList[name] = element;\r\n        });\r\n        all2.forEach(element => {//初始化等级\r\n            let name = element.name;\r\n            this._equLevelList[name] = element;\r\n        });\r\n        all3.forEach(element => {//初始化词条\r\n            let id = element.id;\r\n            this._equEffectList[id] = element;\r\n        });\r\n    }\r\n    // 初始化英雄当前装备\r\n    initHeroCurEqu() {\r\n        let data = em.dispatch(\"getTempData\", \"curEquData\");\r\n        if (data) {\r\n            for (const key in data) {\r\n                if (Object.prototype.hasOwnProperty.call(data, key)) {\r\n                    const element = data[key];\r\n                    if (this._heroCurEqu.hasOwnProperty(key)) this._heroCurEqu[key] = element;\r\n                }\r\n            }\r\n        }\r\n    }\r\n    onEnable() {\r\n        this.initBasePropertyLv();\r\n    }\r\n    initBasePropertyLv() {\r\n        let config = em.dispatch(\"getTempData\", \"HeroBasePropertyLvList\");\r\n        if (null == config) {//数据为空时 起用默认值\r\n            config = {\r\n                percentageBloodLv: 1,\r\n                percentageDamageLv: 1,\r\n                percentageMoveSpeedLv: 1,\r\n                moveSpeedLv: 1,\r\n                criticalHitRateLv: 1,\r\n                bonusBulletTotalLv: 1,\r\n                bonusBulletMoveSpeedLv: 1,\r\n                bonusBulletAttackTimesLv: 1,\r\n                recoveryHealthyLv: 1,\r\n                expAdditionLv: 1,\r\n                divineStoneAdditionLv: 10\r\n            };\r\n        }\r\n        this._percentageBloodLv = config.percentageBloodLv;\r\n        this._percentageDamageLv = config.percentageDamageLv;\r\n        this._percentageMoveSpeedLv = config.percentageMoveSpeedLv;\r\n        this._moveSpeedLv = config.moveSpeedLv;\r\n        this._criticalHitRateLv = config.criticalHitRateLv;\r\n        this._bonusBulletTotalLv = config.bonusBulletTotalLv;\r\n        this._bonusBulletMoveSpeedLv = config.bonusBulletMoveSpeedLv;\r\n        this._bonusBulletAttackTimesLv = config.bonusBulletAttackTimesLv;\r\n        this._recoveryHealthyLv = config.recoveryHealthyLv;\r\n        this._expAdditionLv = config.expAdditionLv;\r\n        this._divineStoneAdditionLv = config.divineStoneAdditionLv;\r\n\r\n\r\n    }\r\n\r\n\r\n    savingLvData() {\r\n        // 基础属性等级清单\r\n        let list = {\r\n            percentageBloodLv: this._percentageBloodLv,\r\n            percentageDamageLv: this._percentageDamageLv,\r\n            moveSpeedLv: this._moveSpeedLv,\r\n            percentageMoveSpeedLv: this._percentageMoveSpeedLv,\r\n            criticalHitRateLv: this._criticalHitRateLv,\r\n            bonusBulletTotalLv: this._bonusBulletTotalLv,\r\n            bonusBulletMoveSpeedLv: this._bonusBulletMoveSpeedLv,\r\n            bonusBulletAttackTimesLv: this._bonusBulletAttackTimesLv,\r\n            recoveryHealthyLv: this._recoveryHealthyLv,\r\n            expAdditionLv: this._expAdditionLv,\r\n            divineStoneAdditionLv: this._divineStoneAdditionLv\r\n        }\r\n        em.dispatch(\"savingToTempData\", \"HeroBasePropertyLvList\", list);\r\n    }\r\n\r\n    // ==============外部调用==============\r\n    usingHeroBasePropertyFun(string, ...param) {\r\n        if (this[string] && typeof this[string] == \"function\") return this[string](...param);\r\n        else throw string + \" is not fun or undefined\";\r\n    }\r\n    //获取玩家当前某属性的值\r\n    getHeroBaseProperty(property) {\r\n        if (!this._heroData.hasOwnProperty(property)) throw \"不存在属性\" + property;\r\n        let lv = this[\"_\" + property + \"Lv\"];\r\n        if (!lv) return this._heroData[property][0];\r\n        else return this._heroData[property][lv - 1];\r\n    }\r\n    // 获取玩家某属性值的升级详情\r\n    getHeroBasePropertyLvDetail(property) {\r\n        if (!this._heroData.hasOwnProperty(property)) throw \"不存在属性\" + property;\r\n        return this._heroData[property];\r\n    }\r\n    // 获取玩家某属性的当前等级\r\n    getHeroBasePropertyCurLv(property) {\r\n        if (!this._heroData.hasOwnProperty(property)) throw \"不存在属性\" + property;\r\n        // console.log(\"property\",property,this[\"_\" + property + \"Lv\"]);\r\n        return this[\"_\" + property + \"Lv\"];\r\n    }\r\n    //升级基础属性值\r\n    upgradeBaseProperty(property) {\r\n        if (!this._heroData.hasOwnProperty(property)) throw \"不存在属性\" + property;\r\n        this[\"_\" + property + \"Lv\"]++;\r\n        this.savingLvData();//\r\n    }\r\n    //获取修为数据\r\n    getTrainingData(key) {\r\n        let data = em.dispatch(\"getTempData\", \"training\");\r\n        if (null !== data) {\r\n            return this._trainingLvList[data.curLv][key];\r\n            // if (data.curLv !== 0) return this._trainingLvList[data.curLv][key];\r\n            // if (data.curLv !== 0) return this._trainingLvList[data.curLv - 1][key];\r\n            // else return 0;\r\n        } else {\r\n            return this._trainingLvList[0][key];\r\n        }\r\n    }\r\n    //===================功法秘籍相关===================\r\n    // 获取所有和功法秘籍相关的数据\r\n    getAllAboutSkillBook() {\r\n        return this.skillBookListJson.json;\r\n    }\r\n    getSkillBookDataByIdOrName(id_name) {\r\n        if (this._skillBookList.hasOwnProperty(id_name)) return this._skillBookList[id_name];\r\n        else throw id_name + \" of _skillBookList is null\";\r\n    }\r\n    //===================装备相关===================\r\n    // 获取完整的装备信息\r\n    getAllEquData() {\r\n        return this._heroCurEqu;\r\n    }\r\n    // 获取指定部位装备名称\r\n    getEquNameByType(type) {\r\n        if (!this._heroCurEqu.hasOwnProperty(type)) throw \"当前装备类型 \" + type + \" 不存在\";\r\n        return this._heroCurEqu[type];\r\n    }\r\n    //通过装备名称 获取装备属性\r\n    getEquDataByName(nameString: string) {\r\n        //获得品级\r\n        let qIndex = nameString.indexOf(\"（\");\r\n        // if (qIndex < 0) throw \"name string is error,cur name string is \" + nameString;\r\n        if (qIndex < 0) return null;\r\n        let qKey = nameString.slice(0, qIndex);\r\n        let lKey = nameString.slice(2);\r\n        let qValue = this._equQualityList[qKey];\r\n        let lValue = this._equLevelList[lKey];\r\n        // console.log(\"qKey\",qKey);\r\n        // console.log(\"lKey\",lKey);\r\n        // console.log(\"qValue\",qValue);\r\n        // console.log(\"lValue\",lValue);\r\n        if (!qValue || !lValue) {\r\n            console.log(\"qKey\", qKey);\r\n            console.log(\"lKey\", lKey);\r\n            console.log(\"qValue\", qValue);\r\n            console.log(\"lValue\", lValue);\r\n            throw \"q or l value is null\";\r\n        }\r\n        return {\r\n            qData: qValue,\r\n            lData: lValue\r\n        };\r\n    }\r\n    // 切换装备\r\n    switchEqu(type, equString) {\r\n        if (!this._heroCurEqu.hasOwnProperty(type)) throw \"当前装备类型 \" + type + \" 不存在\";\r\n        this._heroCurEqu[type] = equString;\r\n        this.savingEquData();\r\n    }\r\n    // 记录装备数据\r\n    savingEquData() {\r\n        em.dispatch(\"savingToTempData\", \"curEquData\", this._heroCurEqu);\r\n    }\r\n    // 获取当前玩家的装备 \r\n    getCurHeroEqu(type) {\r\n        if (this._heroCurEqu.hasOwnProperty(type)) return this._heroCurEqu[type];\r\n        else throw \"type is error,cur type is \" + type;\r\n    }\r\n    // 获取玩家当前使用法器数据\r\n    getCurHeroUsingWeaponData() {\r\n        let key = this.getCurHeroEqu(\"法器\");\r\n        return this.getEquDataByName(key);\r\n    }\r\n    // 获取当前玩家的法器类型\r\n    getCurHeroUsingWeaponType() {\r\n        let nameString = this._heroCurEqu.法器;\r\n        if (!nameString) return \"\";\r\n        let qIndex = nameString.indexOf(\"（\");\r\n        return nameString.slice(2, qIndex);\r\n    }\r\n    // 获取装备词条信息\r\n    getEquEffectData(id) {\r\n        if (!this._equEffectList.hasOwnProperty(id)) throw \"词条\" + id + \"不存在\";\r\n        return this._equEffectList[id];\r\n    }\r\n    //获取当前玩家通过装备获取的属性值\r\n    getBasePropertyValueByEqu() {\r\n        let BPV = {\r\n            effectList: [],\r\n            //基础属性值\r\n            baseDamage: 0,\r\n            moveSpeed: 0,\r\n            blood: 0,\r\n            CHR: 0,\r\n            CHD: 0,\r\n            //词条属性\r\n            bonusCHD: 0,//额外暴伤\r\n            bonusBulletTotal: 0,//额外法宝数量\r\n            bonusBulletAttackTimes: 0,//额外穿透\r\n            bonusMoveSpeed: 0,\r\n            bonusBackDis: 0,//击退距离\r\n            slowResistance: 0,//减速抗性\r\n            damageReduce: 0,//减伤效果\r\n            //debuff\r\n            slowPer: 0,//减速百分比\r\n        };\r\n        console.log(\"this._heroCurEqu\", this._heroCurEqu);\r\n\r\n        for (const key in this._heroCurEqu) {\r\n            const equName = this._heroCurEqu[key];\r\n            if (!equName) continue;\r\n            let equData = this.getEquDataByName(equName);\r\n            let lData = equData.lData;\r\n            let effects = equData.qData.effect;\r\n            for (const effect of effects) {\r\n                if (BPV.effectList.indexOf(effect) < 0) BPV.effectList.push(effect);\r\n            }\r\n            console.log(\"equData\", equData);\r\n            //添加基础属性\r\n            for (const key2 in lData) {\r\n                if (BPV.hasOwnProperty(key2)) {\r\n                    let value = this.getValidValueByEffects(lData[key2], key2, effects);\r\n                    BPV[key2] += value;\r\n                };\r\n            };\r\n            //添加效果属性\r\n            this.addEffectsValue(effects, BPV);\r\n        };\r\n        console.log(\"BPV\", BPV);\r\n        return BPV;\r\n    }\r\n    addEffectsValue(effects, BPV) {\r\n        for (const id of effects) {\r\n            switch (id) {\r\n                case 5:\r\n                    BPV.slowPer += 0.1;\r\n                    break;\r\n                case 6:\r\n                    BPV.slowPer += 0.2;\r\n                    break;\r\n                case 7:\r\n                    BPV.slowPer += 0.3;\r\n                    break;\r\n                case 8:\r\n                    BPV.slowPer += 0.4;\r\n                    break;\r\n                case 2001:\r\n                    BPV.bonusCHD += 0.1;\r\n                    break;\r\n                case 2002:\r\n                    BPV.bonusCHD += 0.2;\r\n                    break;\r\n                case 2003:\r\n                    BPV.bonusCHD += 0.3;\r\n                    break;\r\n                case 2004:\r\n                    BPV.bonusBulletAttackTimes += 1;\r\n                    break;\r\n                case 2005:\r\n                    BPV.bonusBulletAttackTimes += 2;\r\n                    break;\r\n                case 2006:\r\n                    BPV.bonusBulletAttackTimes += 3;\r\n                    break;\r\n                case 2007:\r\n                    BPV.slowResistance += 0.5;\r\n                    break;\r\n                case 2008:\r\n                    BPV.slowResistance += 0.75;\r\n                    break;\r\n                case 2009:\r\n                    BPV.slowResistance += 1;\r\n                    break;\r\n                case 2010:\r\n                    BPV.damageReduce += 0.1;\r\n                    break;\r\n                case 2011:\r\n                    BPV.damageReduce += 0.2;\r\n                    break;\r\n                case 2012:\r\n                    BPV.damageReduce += 0.3;\r\n                    break;\r\n                case 2013:\r\n                    BPV.bonusCHD += 0.1;\r\n                    break;\r\n                case 2014:\r\n                    BPV.bonusCHD += 0.2;\r\n                    break;\r\n                case 2015:\r\n                    BPV.bonusCHD += 0.3;\r\n                    break;\r\n                case 2016:\r\n                    BPV.bonusMoveSpeed += 10;\r\n                    break;\r\n                case 2017:\r\n                    BPV.bonusMoveSpeed += 20;\r\n                    break;\r\n                case 2018:\r\n                    BPV.bonusMoveSpeed += 30;\r\n                    break;\r\n                case 2019:\r\n                    BPV.bonusMoveSpeed += 40;\r\n                    break;\r\n                case 2020:\r\n                    BPV.bonusMoveSpeed += 50;\r\n                    break;\r\n                case 2021:\r\n                    BPV.bonusBackDis += 50;\r\n                    break;\r\n                case 2022:\r\n                    BPV.bonusBackDis += 100;\r\n                    break;\r\n                case 5007:\r\n                    BPV.bonusBulletTotal += 1;\r\n                    break;\r\n                case 5008:\r\n                    BPV.bonusBulletTotal += 2;\r\n                    break;\r\n                case 5009:\r\n                    BPV.bonusBulletTotal += 3;\r\n                    break;\r\n\r\n                default:\r\n                    break;\r\n            }\r\n        }\r\n    }\r\n    //通过词条获取有效值\r\n    getValidValueByEffects(value, key, effects) {\r\n        if (effects.indexOf(1) > -1 && key == \"baseDamage\") return 0;//破烂不堪\r\n        if (effects.indexOf(3) > -1 && key == \"baseDamage\") return value * 0.8;//力不从心\r\n        if (effects.indexOf(4) > -1) {//衣衫褴褛\r\n            if (key == \"blood\") return value * 0.5;\r\n            if (key == \"CHR\") return 0;\r\n            if (key == \"baseDamage\") return 0;\r\n        }\r\n        if (effects.indexOf(1012) > -1) return value * 1.1;\r\n        if (effects.indexOf(1013) > -1) return value * 1.3;\r\n        if (effects.indexOf(1014) > -1) return value * 1.5;\r\n        return value;\r\n    }\r\n\r\n    //===================boss配置相关===============\r\n    getBossDataById(id) {\r\n        if (this._bossDataList.hasOwnProperty(id)) return this._bossDataList[id];\r\n        else throw id + \" of _bossDataList is null\";\r\n    }\r\n}\r\n\r\n"]}