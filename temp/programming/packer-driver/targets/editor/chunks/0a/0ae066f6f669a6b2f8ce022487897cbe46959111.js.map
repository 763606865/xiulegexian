{"version":3,"sources":["file:///C:/Users/Administrator/Desktop/Cocos/ZA/%E4%BF%AE%E4%BA%86%E4%B8%AA%E4%BB%99/assets/script/main/Canvas.ts"],"names":["_decorator","Component","Node","Game","game","em","plm","ccclass","property","Canvas","onLoad","activeChildNodeFirst","activeScriptByActiveNode","on","EVENT_SHOW","gameShow","EVENT_HIDE","gameHide","console","log","dispatch","onDestroy","clearAllNodePool","start","arr","childNode","i","length","node","active","needActiveNode"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AACSA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;AAAWC,MAAAA,I,OAAAA,I;AAAgEC,MAAAA,I,OAAAA,I;AAAMC,MAAAA,I,OAAAA,I;;AAC7FC,MAAAA,E,iBAAAA,E;;AAEAC,MAAAA,G,iBAAAA,G;;;;;;;;;OACH;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBR,U;;wBAGjBS,M,WADZF,OAAO,CAAC,QAAD,C,UAEHC,QAAQ,CAACN,IAAD,C,UAERM,QAAQ,CAACN,IAAD,C,2BAJb,MACaO,MADb,SAC4BR,SAD5B,CACsC;AAAA;AAAA;;AAAA;;AAAA;AAAA;;AAMlCS,QAAAA,MAAM,GAAE;AACJ,eAAKC,oBAAL;AACA,eAAKC,wBAAL;AACAR,UAAAA,IAAI,CAACS,EAAL,CAAQV,IAAI,CAACW,UAAb,EAAwB,KAAKC,QAA7B,EAAsC,IAAtC;AACAX,UAAAA,IAAI,CAACS,EAAL,CAAQV,IAAI,CAACa,UAAb,EAAwB,KAAKC,QAA7B,EAAsC,IAAtC;AACH;;AACDF,QAAAA,QAAQ,GAAE;AACNG,UAAAA,OAAO,CAACC,GAAR,CAAY,WAAZ;AACH;;AACDF,QAAAA,QAAQ,GAAE;AACNC,UAAAA,OAAO,CAACC,GAAR,CAAY,WAAZ;AACA;AAAA;AAAA,wBAAGC,QAAH,CAAY,qBAAZ,EAAkC,uBAAlC;AACH;;AACDC,QAAAA,SAAS,GAAE;AACP;AAAA;AAAA,0BAAIC,gBAAJ;AACH;;AACDC,QAAAA,KAAK,GAAG,CAEP,CAxBiC,CA0BlC;;;AACAZ,QAAAA,oBAAoB,GAAG;AACnB,cAAIa,GAAG,GAAG,KAAKC,SAAf;;AACA,eAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGF,GAAG,CAACG,MAAxB,EAAgCD,CAAC,EAAjC,EAAqC;AACjC,gBAAIE,IAAI,GAAGJ,GAAG,CAACE,CAAD,CAAd;;AACA,gBAAIE,IAAJ,EAAU;AACNA,cAAAA,IAAI,CAACC,MAAL,GAAc,IAAd;AACH;;AAAA;AACJ;;AAAA;AACJ,SAnCiC,CAoClC;;;AACAjB,QAAAA,wBAAwB,GAAG;AACvB,cAAIY,GAAG,GAAG,KAAKM,cAAf;;AACA,eAAK,IAAIJ,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGF,GAAG,CAACG,MAAxB,EAAgCD,CAAC,EAAjC,EAAqC;AACjC;AACA,gBAAIE,IAAI,GAAGJ,GAAG,CAACE,CAAD,CAAd;;AACA,gBAAIE,IAAJ,EAAU;AACNA,cAAAA,IAAI,CAACC,MAAL,GAAc,IAAd;AACAD,cAAAA,IAAI,CAACC,MAAL,GAAc,KAAd;AACH;;AAAA;AACJ;;AAAA;AACJ;;AA/CiC,O;;;;;iBAEtB,E;;;;;;;iBAEK,E","sourcesContent":["\r\nimport { _decorator, Component, Node, Label, instantiate, tween, Vec3, Color, NodePool, Prefab, Game, game } from 'cc';\r\nimport { em } from '../global/EventManager';\r\nimport { glf } from '../global/globalFun';\r\nimport { plm } from '../global/PoolManager';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('Canvas')\r\nexport class Canvas extends Component {\r\n    @property(Node)\r\n    childNode = [];\r\n    @property(Node)\r\n    needActiveNode = [];\r\n\r\n    onLoad(){\r\n        this.activeChildNodeFirst();\r\n        this.activeScriptByActiveNode();\r\n        game.on(Game.EVENT_SHOW,this.gameShow,this)\r\n        game.on(Game.EVENT_HIDE,this.gameHide,this)\r\n    }\r\n    gameShow(){\r\n        console.log(\"game show\");\r\n    }\r\n    gameHide(){\r\n        console.log(\"game hide\");\r\n        em.dispatch(\"usingHeroControlFun\",\"recoveryTouchRawState\");\r\n    }\r\n    onDestroy(){\r\n        plm.clearAllNodePool();\r\n    }\r\n    start() {\r\n\r\n    }\r\n\r\n    //激活需要依赖父节点的子节点\r\n    activeChildNodeFirst() {\r\n        let arr = this.childNode;\r\n        for (let i = 0; i < arr.length; i++) {\r\n            let node = arr[i];\r\n            if (node) {\r\n                node.active = true;\r\n            };\r\n        };\r\n    }\r\n    //通过激活节点激活脚本\r\n    activeScriptByActiveNode() {\r\n        let arr = this.needActiveNode;\r\n        for (let i = 0; i < arr.length; i++) {\r\n            // for (let i = 0; i < arr.length; i++) {\r\n            let node = arr[i];\r\n            if (node) {\r\n                node.active = true;\r\n                node.active = false;\r\n            };\r\n        };\r\n    }\r\n}\r\n\r\n"]}