{"version":3,"sources":["file:///C:/Users/Administrator/Desktop/Cocos/ZA/%E4%BF%AE%E4%BA%86%E4%B8%AA%E4%BB%99/assets/script/hero/weapon/FingerLikeWind.ts"],"names":["_decorator","Animation","em","tagData","Weapon","ccclass","property","FingerLikeWind","init","addToAnimManger","initSkillData","data","dispatch","_damage","baseDamage","_damageTimes","damageTimes","_duration","duration","_backDis","_canAttackTimes","Infinity","_attackInterval","_weaponName","name","node","parent","getChildByName","initBoxCollider","sword","update","deltaTime","weaponMove","weaponDuration","changeDirByMoveDir","recoveryToPool","removeAnimFromList","destroy","anim","getComponent"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAUSA,MAAAA,U,OAAAA,U;AAA6BC,MAAAA,S,OAAAA,S;;AAC7BC,MAAAA,E,iBAAAA,E;;AACAC,MAAAA,O,iBAAAA,O;;AACAC,MAAAA,M,iBAAAA,M;;;;;;AAbT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;OAKM;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBN,U;;gCAGjBO,c,WADZF,OAAO,CAAC,gBAAD,C,gBAAR,MACaE,cADb;AAAA;AAAA,4BAC2C;AACvCC,QAAAA,IAAI,GAAG;AACH,eAAKC,eAAL;AACA,eAAKC,aAAL;AACH;;AACDA,QAAAA,aAAa,GAAG;AACZ,cAAIC,IAAI,GAAG;AAAA;AAAA,wBAAGC,QAAH,CAAY,0BAAZ,EAAwC,4BAAxC,EAAsE,gBAAtE,CAAX;AACA,eAAKC,OAAL,GAAeF,IAAI,CAACG,UAApB;AACA,eAAKC,YAAL,GAAoBJ,IAAI,CAACK,WAAzB;AACA,eAAKC,SAAL,GAAiBN,IAAI,CAACO,QAAtB;AACA,eAAKC,QAAL,GAAgB,CAAhB;AACA,eAAKC,eAAL,GAAuBC,QAAvB;AACA,eAAKC,eAAL,GAAuB,GAAvB;AACA,eAAKC,WAAL,GAAmBZ,IAAI,CAACa,IAAxB;AACA,eAAKC,IAAL,CAAUC,MAAV,GAAmB;AAAA;AAAA,wBAAGd,QAAH,CAAY,wBAAZ,EAAsC,MAAtC,EAA8Ce,cAA9C,CAA6D,aAA7D,CAAnB;AACA,eAAKC,eAAL,CAAqB;AAAA;AAAA,kCAAQC,KAA7B;AACH;;AACDC,QAAAA,MAAM,CAACC,SAAD,EAAoB;AACtB,eAAKC,UAAL,CAAgBD,SAAhB;AACA,eAAKE,cAAL,CAAoBF,SAApB,EAFsB,CAGtB;;AACA,eAAKG,kBAAL,CAAwB,EAAxB;AACH,SAtBsC,CAuBvC;;;AACAC,QAAAA,cAAc,GAAG;AACb,eAAKC,kBAAL;AACA,eAAKX,IAAL,CAAUY,OAAV;AACH;;AACD5B,QAAAA,eAAe,GAAG;AACd,cAAI6B,IAAI,GAAG,KAAKb,IAAL,CAAUc,YAAV,CAAuBtC,SAAvB,CAAX;AACA;AAAA;AAAA,wBAAGW,QAAH,CAAY,yBAAZ,EAAuC,eAAvC,EAAwD0B,IAAxD;AACH;;AACDF,QAAAA,kBAAkB,GAAG;AACjB,cAAIE,IAAI,GAAG,KAAKb,IAAL,CAAUc,YAAV,CAAuBtC,SAAvB,CAAX;AACA;AAAA;AAAA,wBAAGW,QAAH,CAAY,yBAAZ,EAAuC,oBAAvC,EAA6D0B,IAA7D;AACH;;AAnCsC,O","sourcesContent":["/*\r\n * @Author: li_jiang_wei_12345 739671694@qq.com\r\n * @Date: 2022-11-23 22:06:51\r\n * @LastEditors: li_jiang_wei_12345 739671694@qq.com\r\n * @LastEditTime: 2022-11-24 11:08:25\r\n * @FilePath: \\to-be-immortal\\assets\\script\\hero\\weapon\\FingerLikeWind.ts\r\n * @Description: \r\n * \r\n * Copyright (c) 2022 by li_jiang_wei_12345 739671694@qq.com, All Rights Reserved. \r\n */\r\nimport { _decorator, Component, Node, Animation } from 'cc';\r\nimport { em } from '../../global/EventManager';\r\nimport { tagData } from '../../global/globalData';\r\nimport { Weapon } from './Weapon';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('FingerLikeWind')\r\nexport class FingerLikeWind extends Weapon {\r\n    init() {\r\n        this.addToAnimManger();\r\n        this.initSkillData();\r\n    }\r\n    initSkillData() {\r\n        let data = em.dispatch(\"usingHeroBasePropertyFun\", \"getSkillBookDataByIdOrName\", \"fingerLikeWind\");\r\n        this._damage = data.baseDamage;\r\n        this._damageTimes = data.damageTimes;\r\n        this._duration = data.duration;\r\n        this._backDis = 0;\r\n        this._canAttackTimes = Infinity;\r\n        this._attackInterval = 0.5;\r\n        this._weaponName = data.name;\r\n        this.node.parent = em.dispatch(\"getHeroControlProperty\", \"node\").getChildByName(\"skillParent\");\r\n        this.initBoxCollider(tagData.sword);\r\n    }\r\n    update(deltaTime: number) {\r\n        this.weaponMove(deltaTime);\r\n        this.weaponDuration(deltaTime);\r\n        // this.changeDirByAimDir(90);\r\n        this.changeDirByMoveDir(90);\r\n    }\r\n    //自我销毁\r\n    recoveryToPool() {\r\n        this.removeAnimFromList();\r\n        this.node.destroy();\r\n    }\r\n    addToAnimManger() {\r\n        let anim = this.node.getComponent(Animation);\r\n        em.dispatch(\"usingGameAnimManagerFun\", \"addAnimToList\", anim);\r\n    }\r\n    removeAnimFromList() {\r\n        let anim = this.node.getComponent(Animation);\r\n        em.dispatch(\"usingGameAnimManagerFun\", \"removeAnimFromList\", anim);\r\n    }\r\n}\r\n\r\n"]}