{"version":3,"sources":["file:///C:/Users/Administrator/Desktop/TSGFDemo/Demo/%E4%BF%AE%E4%BA%86%E4%B8%AA%E4%BB%99/assets/script/RVO/RVOMath.ts"],"names":["RVOMath","Vector2","abs","vector","sqrt","absSq","multiply","normalize","division","det","vector1","vector2","x","y","distSqPointLineSegment","vector3","r","subtract","addition","multiply2","fabs","scalar","Math","leftOf","a","b","c","sqr","transfromFloat","value","floor","RVO_EPSILON","RVO_POSITIVEINFINITY"],"mappings":"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","sourcesContent":["import Vector2 from \"./Vector2\";\r\n\r\nexport default class RVOMath\r\n{\r\n    /**一个足够小的正数 */\r\n    public static readonly RVO_EPSILON = 0.00001;\r\n    /**一个表示正无穷的数 */\r\n    public static readonly RVO_POSITIVEINFINITY = 10000000000000;\r\n\r\n    public static abs(vector: Vector2)\r\n    {\r\n        return this.sqrt(this.absSq(vector));\r\n    }\r\n\r\n    public static absSq(vector: Vector2)\r\n    {\r\n        return Vector2.multiply(vector, vector);\r\n    }\r\n\r\n    public static normalize(vector: Vector2)\r\n    {\r\n        return Vector2.division(vector, this.abs(vector));\r\n    }\r\n\r\n    public static det(vector1: Vector2, vector2: Vector2)\r\n    {\r\n        return vector1.x * vector2.y - vector1.y * vector2.x;\r\n    }\r\n\r\n    public static distSqPointLineSegment(vector1: Vector2, vector2: Vector2, vector3: Vector2)\r\n    {\r\n        let r = Vector2.multiply(Vector2.subtract(vector3, vector1), Vector2.subtract(vector2, vector1)) / this.absSq(Vector2.subtract(vector2, vector1));\r\n        if (r < 0)\r\n        {\r\n            return this.absSq(Vector2.subtract(vector3, vector1));\r\n        }\r\n        if (r > 1)\r\n        {\r\n            return this.absSq(Vector2.subtract(vector3, vector2));\r\n        }\r\n        return this.absSq(Vector2.subtract(vector3, Vector2.addition(vector1, Vector2.multiply2(r, Vector2.subtract(vector2, vector1)))));\r\n    }\r\n\r\n    public static fabs(scalar: number)\r\n    {\r\n        return Math.abs(scalar);\r\n    }\r\n\r\n    public static leftOf(a: Vector2, b: Vector2, c: Vector2)\r\n    {\r\n        return this.det(Vector2.subtract(a, c), Vector2.subtract(b, a));\r\n    }\r\n\r\n    public static sqr(scalar: number)\r\n    {\r\n        return scalar * scalar;\r\n    }\r\n\r\n    public static sqrt(scalar: number)\r\n    {\r\n        return Math.sqrt(scalar);\r\n    }\r\n\r\n    /**\r\n     * 转换单精度\r\n     * @param value \r\n     * @returns \r\n     */\r\n    public static transfromFloat(value: number)\r\n    {\r\n        return Math.floor(value * 10) / 10;\r\n    }\r\n}"]}