{"version":3,"sources":["file:///C:/Users/Administrator/Desktop/Cocos/ZA/%E4%BF%AE%E4%BA%86%E4%B8%AA%E4%BB%99/assets/script/hero/equSystem/ShockWave.ts"],"names":["_decorator","em","Weapon","ccclass","property","ShockWave","init","dir","initEquData","clearCacheData","changeBulletRotationByFlyDir","data","dispatch","_damage","lData","baseDamage","_damageTimes","_duration","_moveSpeed","_backDis","_attackInterval","_canAttackTimes","Infinity","_weaponName","_flyDir","x","Math","abs","y","qData","effect","indexOf","initEquDataByExtraProperties"],"mappings":";;;;;;;;;;;;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;;AACAC,MAAAA,E,iBAAAA,E;;AACAC,MAAAA,M,iBAAAA,M;;;;;;;;;OACH;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBJ,U;;2BAGjBK,S,WADZF,OAAO,CAAC,WAAD,C,gBAAR,MACaE,SADb;AAAA;AAAA,4BACsC;AAClCC,QAAAA,IAAI,CAACC,GAAD,EAAM;AACN,eAAKC,WAAL,CAAiBD,GAAjB;AACA,eAAKE,cAAL;AACA,eAAKC,4BAAL;AACH;;AACDF,QAAAA,WAAW,CAACD,GAAD,EAAM;AACb,cAAII,IAAI,GAAG;AAAA;AAAA,wBAAGC,QAAH,CAAY,0BAAZ,EAAwC,2BAAxC,CAAX;AACA,eAAKC,OAAL,GAAeF,IAAI,CAACG,KAAL,CAAWC,UAA1B;AACA,eAAKC,YAAL,GAAoB,CAApB;AAEA,eAAKC,SAAL,GAAiB,CAAjB;AACA,eAAKC,UAAL,GAAkB,GAAlB;AACA,eAAKC,QAAL,GAAgB,EAAhB;AACA,eAAKC,eAAL,GAAuB,CAAvB;AACA,eAAKC,eAAL,GAAuBC,QAAvB;AACA,eAAKC,WAAL,GAAmB,WAAnB,CAVa,CAWb;AACA;;AACA,eAAKC,OAAL,GAAe;AACXC,YAAAA,CAAC,EAAClB,GAAG,CAACkB,CAAJ,GAAMC,IAAI,CAACC,GAAL,CAASpB,GAAG,CAACkB,CAAb,CADG;AAEXG,YAAAA,CAAC,EAAC;AAFS,WAAf;AAIA,cAAGjB,IAAI,CAACkB,KAAL,CAAWC,MAAX,CAAkBC,OAAlB,CAA0B,IAA1B,IAAkC,CAAC,CAAtC,EAAyC,KAAKlB,OAAL,IAAc,GAAd;AACzC,eAAKmB,4BAAL,CAAkCrB,IAAlC;AAEH;;AA1BiC,O","sourcesContent":["import { _decorator, Component, Node } from 'cc';\r\nimport { em } from '../../global/EventManager';\r\nimport { Weapon } from '../weapon/Weapon';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('ShockWave')\r\nexport class ShockWave extends Weapon {\r\n    init(dir) {\r\n        this.initEquData(dir);\r\n        this.clearCacheData();\r\n        this.changeBulletRotationByFlyDir();\r\n    }\r\n    initEquData(dir) {\r\n        let data = em.dispatch(\"usingHeroBasePropertyFun\", \"getCurHeroUsingWeaponData\");\r\n        this._damage = data.lData.baseDamage;\r\n        this._damageTimes = 0;\r\n\r\n        this._duration = 2;\r\n        this._moveSpeed = 700;\r\n        this._backDis = 50;\r\n        this._attackInterval = 2;\r\n        this._canAttackTimes = Infinity;\r\n        this._weaponName = \"shockWave\";\r\n        // this._flyDir.x = dir.x;\r\n        // this._flyDir.y = 0;\r\n        this._flyDir = {\r\n            x:dir.x/Math.abs(dir.x),\r\n            y:0\r\n        }\r\n        if(data.qData.effect.indexOf(1006) > -1) this._damage*=0.5;\r\n        this.initEquDataByExtraProperties(data);\r\n\r\n    }\r\n}\r\n\r\n\r\n"]}