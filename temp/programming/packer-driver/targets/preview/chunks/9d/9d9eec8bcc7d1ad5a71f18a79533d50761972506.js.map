{"version":3,"sources":["file:///C:/Users/Administrator/Desktop/Cocos/ZA/%E4%BF%AE%E4%BA%86%E4%B8%AA%E4%BB%99/assets/script/hero/equSystem/ContinueArrow.ts"],"names":["_decorator","em","tagData","Weapon","ccclass","property","ContinueArrow","init","initEquData","clearCacheData","initEquBoxCollider","sword","changeBulletRotationByFlyDir","data","dispatch","heroDir","dir","x","y","_damage","qData","effect","indexOf","lData","baseDamage","_damageTimes","damageTimes","_duration","_moveSpeed","_backDis","_attackInterval","_canAttackTimes","_weaponName","_flyDir","initEquDataByExtraProperties"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;;AACAC,MAAAA,E,iBAAAA,E;;AACAC,MAAAA,O,iBAAAA,O;;AACAC,MAAAA,M,iBAAAA,M;;;;;;;;;OACH;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBL,U;;+BAGjBM,a,WADZF,OAAO,CAAC,eAAD,C,gBAAR,MACaE,aADb;AAAA;AAAA,4BAC0C;AACtCC,QAAAA,IAAI,GAAG;AACH,eAAKC,WAAL;AACA,eAAKC,cAAL;AACA,eAAKC,kBAAL,CAAwB;AAAA;AAAA,kCAAQC,KAAhC;AACA,eAAKC,4BAAL;AACH;;AACDJ,QAAAA,WAAW,GAAG;AACV,cAAIK,IAAI,GAAG;AAAA;AAAA,wBAAGC,QAAH,CAAY,0BAAZ,EAAwC,2BAAxC,CAAX;AACA,cAAIC,OAAO,GAAG;AAAA;AAAA,wBAAGD,QAAH,CAAY,wBAAZ,EAAsC,eAAtC,CAAd;AACA,cAAIE,GAAG,GAAG;AACNC,YAAAA,CAAC,EAAEF,OAAO,CAACE,CADL;AAENC,YAAAA,CAAC,EAAEH,OAAO,CAACG;AAFL,WAAV;AAIA,cAAIF,GAAG,CAACC,CAAJ,IAAS,CAAT,IAAcD,GAAG,CAACE,CAAJ,IAAS,CAA3B,EAA8BF,GAAG,CAACC,CAAJ,GAAQ,CAAC,CAAT;AAC9B,eAAKE,OAAL,GAAeN,IAAI,CAACO,KAAL,CAAWC,MAAX,CAAkBC,OAAlB,CAA0B,CAA1B,IAA+B,CAAC,CAAhC,GAAoC,CAApC,GAAwCT,IAAI,CAACU,KAAL,CAAWC,UAAlE;AACA,eAAKC,YAAL,GAAoBZ,IAAI,CAACU,KAAL,CAAWG,WAA/B;AACA,eAAKC,SAAL,GAAiB,CAAjB;AACA,eAAKC,UAAL,GAAkB,GAAlB;AACA,eAAKC,QAAL,GAAgB,EAAhB;AACA,eAAKC,eAAL,GAAuB,CAAvB;AACA,eAAKC,eAAL,GAAuB,CAAvB;AACA,eAAKC,WAAL,GAAmB,eAAnB;AACA,eAAKC,OAAL,GAAejB,GAAf;AAEA,eAAKkB,4BAAL,CAAkCrB,IAAlC;AACH;;AA1BqC,O","sourcesContent":["import { _decorator, Component, Node } from 'cc';\r\nimport { em } from '../../global/EventManager';\r\nimport { tagData } from '../../global/globalData';\r\nimport { Weapon } from '../weapon/Weapon';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('ContinueArrow')\r\nexport class ContinueArrow extends Weapon {\r\n    init() {\r\n        this.initEquData();\r\n        this.clearCacheData();\r\n        this.initEquBoxCollider(tagData.sword);\r\n        this.changeBulletRotationByFlyDir();\r\n    }\r\n    initEquData() {\r\n        let data = em.dispatch(\"usingHeroBasePropertyFun\", \"getCurHeroUsingWeaponData\");\r\n        let heroDir = em.dispatch(\"getHeroControlProperty\", \"_curDirection\");\r\n        let dir = {\r\n            x: heroDir.x,\r\n            y: heroDir.y,\r\n        }\r\n        if (dir.x == 0 && dir.y == 0) dir.x = -1;\r\n        this._damage = data.qData.effect.indexOf(1) > -1 ? 0 : data.lData.baseDamage;\r\n        this._damageTimes = data.lData.damageTimes ;\r\n        this._duration = 3;\r\n        this._moveSpeed = 700;\r\n        this._backDis = 10;\r\n        this._attackInterval = 2;\r\n        this._canAttackTimes = 1;\r\n        this._weaponName = \"continueArrow\";\r\n        this._flyDir = dir;\r\n\r\n        this.initEquDataByExtraProperties(data);\r\n    }\r\n}\r\n\r\n\r\n"]}