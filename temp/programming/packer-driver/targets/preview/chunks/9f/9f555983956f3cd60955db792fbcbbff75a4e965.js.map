{"version":3,"sources":["file:///C:/Users/Administrator/Desktop/Cocos/%E4%BF%AE%E4%BA%86%E4%B8%AA%E4%BB%99/assets/script/layers/ShowLayer.ts"],"names":["_decorator","Component","Node","Label","tween","Vec3","Color","NodePool","Prefab","Animation","em","plm","ccclass","property","ShowLayer","onDestroy","remove","onLoad","add","createDamageTex","bind","createTipsTex","playAnimMassMonsterComing","damageTexPool","addPoolToPools","damagePrefab","tipsTexPool","tipsPrefab","node","damageValue","initPos","type","x","y","color","getColorConfigByDamage","tex","getFromPool","setScale","switchDamageTexToLength","getComponent","string","parent","damageTexPar","wp","getWorldPosition","setWorldPosition","playEffect2","Math","round","playEffect1","a1","by","position","onUpdate","target","ratio","lerp","r","g","b","a2","to","scale","action","parallel","call","putToPool","start","delay","value","content","tipsTexPar","dispatch","playTIPSTeXEffect","anim","tipsAnimLayer","getChildByName","active","play","scheduleOnce"],"mappings":"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","sourcesContent":["/*\r\n * @Author: li_jiang_wei_12345 739671694@qq.com\r\n * @Date: 2022-07-05 13:41:33\r\n * @LastEditors: li_jiang_wei 739671694@qq.com\r\n * @LastEditTime: 2022-11-27 16:21:10\r\n * @FilePath: \\to-be-immortal\\assets\\script\\layers\\ShowLayer.ts\r\n * @Description: \r\n * \r\n * Copyright (c) 2022 by li_jiang_wei_12345 739671694@qq.com, All Rights Reserved. \r\n */\r\nimport { _decorator, Component, Node, Label, instantiate, tween, Vec3, Color, NodePool, Prefab, color, Animation } from 'cc';\r\nimport { em } from '../global/EventManager';\r\n// import { tagData2 } from '../global/globalData';\r\nimport { glf } from '../global/globalFun';\r\nimport { plm } from '../global/PoolManager';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('ShowLayer')\r\nexport class ShowLayer extends Component {\r\n    @property(Prefab)\r\n    damagePrefab;\r\n    @property(Prefab)\r\n    tipsPrefab;\r\n    @property(Node)\r\n    damageTexPar;\r\n    @property(Node)\r\n    tipsTexPar;\r\n    @property(Node)\r\n    tipsAnimLayer;\r\n\r\n\r\n    onDestroy() {\r\n        em.remove(\"createDamageTex\");\r\n        em.remove(\"createTipsTex\");\r\n        em.remove(\"playAnimMassMonsterComing\");\r\n    }\r\n    onLoad() {\r\n        em.add(\"createDamageTex\", this.createDamageTex.bind(this));\r\n        em.add(\"createTipsTex\", this.createTipsTex.bind(this));\r\n        em.add(\"playAnimMassMonsterComing\", this.playAnimMassMonsterComing.bind(this));\r\n        let damageTexPool = new NodePool();\r\n        plm.addPoolToPools(\"damageTex\", damageTexPool, this.damagePrefab);\r\n        let tipsTexPool = new NodePool();\r\n        plm.addPoolToPools(\"tipsTex\", tipsTexPool, this.tipsPrefab);\r\n    }\r\n\r\n\r\n\r\n\r\n    //创建伤害文本\r\n    createDamageTex(node: Node, damageValue, initPos = { x: 0, y: 50 }, type: string = \"normal\") {\r\n        // console.log(\"createDamageTex\");\r\n        // return;\r\n        // let color = new Color(255, 255, 255, 255); \r\n        let color: Color = this.getColorConfigByDamage(damageValue);\r\n        let tex = plm.getFromPool(\"damageTex\");\r\n        tex.setScale(new Vec3(0, 0, 1));\r\n        damageValue = this.switchDamageTexToLength(damageValue);\r\n\r\n        if (type == \"criticalHit\") tex.getComponent(Label).string = \"暴击:  \" + damageValue;\r\n        else tex.getComponent(Label).string = damageValue;\r\n        tex.getComponent(Label).color = color;\r\n        tex.parent = this.damageTexPar;\r\n        let wp = node.getWorldPosition();\r\n        // tex.setPosition(initPos.x, initPos.y);\r\n        tex.setWorldPosition(wp.x + initPos.x, wp.y + initPos.y, 0);\r\n\r\n        // this.playEffect1(tex,color);\r\n        this.playEffect2(tex, color);\r\n\r\n    }\r\n    // 转换伤害文本长度\r\n    switchDamageTexToLength(damageValue) {\r\n        if (damageValue <= 9999) return damageValue;\r\n        if (damageValue <= 9999999) return Math.round(damageValue / 1000) + \"K\";\r\n        if (damageValue <= 9999999999) return Math.round(damageValue / 1000000) + \"M\";\r\n        else return Math.round(damageValue / 1000000000) + \"B\";\r\n    }\r\n    //文字缩放 渐隐 位移\r\n    playEffect1(tex: Node, color: Color) {\r\n        let a1 = tween().by(0.5, { position: new Vec3(0, 100, 0) }, {\r\n            onUpdate: (target, ratio) => {\r\n                tex.getComponent(Label).color = Color.lerp(new Color(), color, new Color(color.r, color.g, color.b, 0), ratio);\r\n            }\r\n        });\r\n        let a2 = tween().to(0.3, { scale: new Vec3(1.2, 1.2, 1) });\r\n        let action = tween(tex).parallel(a1, a2)\r\n            .call(() => {\r\n                tex.setScale(new Vec3(1, 1, 1));\r\n                // plm.putToPool(\"damageTex\", tex);\r\n                plm.putToPool(\"damageTex\", tex, true);\r\n            });\r\n        action.start();\r\n    }\r\n    // 文字缩放 渐隐\r\n    playEffect2(tex: Node, color: Color) {\r\n        tween(tex).to(0.1, { scale: new Vec3(1, 1, 1) })\r\n            .delay(0.3)\r\n            .to(0.1, { scale: new Vec3(0, 0, 1) })\r\n            .call(() => {\r\n                tex.setScale(new Vec3(1, 1, 1));\r\n                // plm.putToPool(\"damageTex\", tex);\r\n                plm.putToPool(\"damageTex\", tex, false);\r\n            })\r\n            .start();\r\n    }\r\n    /**\r\n    * @description:  通过伤害判定颜色 \r\n    * @param {*} type 伤害类型\r\n    */\r\n    getColorConfigByDamage(value: number) {\r\n        return new Color(255, 245, 0, 255);\r\n        if (value <= 100) return new Color(140, 255, 95, 255);\r\n        if (value <= 500) return new Color(255, 245, 0, 255);\r\n        if (value <= 1000) return new Color(255, 78, 34, 255);\r\n        if (value <= 5000) return new Color(53, 247, 239, 255);\r\n        if (value <= 10000) return new Color(247, 53, 53, 255);\r\n        if (value <= 50000) return new Color(204, 0, 255, 255);\r\n        else return new Color(255, 0, 0, 255);\r\n    }\r\n\r\n\r\n    //=================创建提示信息===============\r\n    createTipsTex(content: string, initPos = { x: 0, y: 50 }) {\r\n        // return;\r\n        let tex = plm.getFromPool(\"tipsTex\");\r\n        tex.getComponent(Label).string = content;\r\n        tex.parent = this.tipsTexPar;\r\n        // let wp = node.getWorldPosition();\r\n        let wp = em.dispatch(\"getHeroWorldPos\");\r\n        tex.setWorldPosition(wp.x + initPos.x, wp.y + initPos.y, 0);\r\n        this.playTIPSTeXEffect(tex);;\r\n    }\r\n    playTIPSTeXEffect(tex, color = new Color(255, 255, 255, 255)) {\r\n        let a1 = tween().by(1, { position: new Vec3(0, 200, 0) }, {\r\n            onUpdate: (target, ratio) => {\r\n                tex.getComponent(Label).color = Color.lerp(new Color(), color, new Color(color.r, color.g, color.b, 0), ratio);\r\n            }\r\n        });\r\n        let a2 = tween().to(0.5, { scale: new Vec3(1.2, 1.2, 1) });\r\n        let action = tween(tex).parallel(a1, a2)\r\n            .call(() => {\r\n                tex.setScale(new Vec3(1, 1, 1));\r\n                // plm.putToPool(\"damageTex\", tex);\r\n                plm.putToPool(\"tipsTex\", tex, true);\r\n            });\r\n        action.start();\r\n    }\r\n\r\n\r\n    //===================播放提示动画================\r\n    playAnimMassMonsterComing() {\r\n        let anim = this.tipsAnimLayer.getChildByName(\"massMonsterComing\").getComponent(Animation);\r\n        anim.node.active = true;\r\n        anim.play();\r\n        this.scheduleOnce(()=>{\r\n            anim.node.active = false;\r\n        },3);\r\n    }\r\n}\r\n\r\n"]}