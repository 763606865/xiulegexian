{"version":3,"sources":["file:///C:/Users/Administrator/Desktop/Cocos/%E4%BF%AE%E4%BA%86%E4%B8%AA%E4%BB%99/assets/script/hero/weapon/FlyingThunderGod.ts"],"names":["_decorator","Component","em","ccclass","property","FlyingThunderGod","_isRun","update","deltaTime","hwp","dispatch","cwp","node","getWorldPosition","x","y","dis","Math","sqrt","console","log"],"mappings":";;;;;;;;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;;AACZC,MAAAA,E,iBAAAA,E;;;;;;;;;OACH;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBJ,U;;kCAGjBK,gB,WADZF,OAAO,CAAC,kBAAD,C,gBAAR,MACaE,gBADb,SACsCJ,SADtC,CACgD;AAAA;AAAA;AAAA,eAE5CK,MAF4C,GAEnC,KAFmC;AAAA;;AAI5CC,QAAAA,MAAM,CAACC,SAAD,EAAoB;AACtB,cAAIC,GAAG,GAAG;AAAA;AAAA,wBAAGC,QAAH,CAAY,iBAAZ,CAAV;AACA,cAAIC,GAAG,GAAG,KAAKC,IAAL,CAAUC,gBAAV,EAAV;AACA,cAAIC,CAAC,GAAGL,GAAG,CAACK,CAAJ,GAAQH,GAAG,CAACG,CAApB;AACA,cAAIC,CAAC,GAAGN,GAAG,CAACM,CAAJ,GAAQJ,GAAG,CAACI,CAApB;AACA,cAAIC,GAAG,GAAGC,IAAI,CAACC,IAAL,CAAUJ,CAAC,GAACA,CAAF,GAAIC,CAAC,GAACA,CAAhB,CAAV;;AACA,cAAG,CAAC,KAAKT,MAAN,IAAcU,GAAG,GAAC,GAArB,EAA0B;AACtBG,YAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ;AACA;AAAA;AAAA,0BAAGV,QAAH,CAAY,eAAZ,EAA6B,iBAA7B;AACA,iBAAKJ,MAAL,GAAc,IAAd;AACA;AAAA;AAAA,0BAAGI,QAAH,CAAY,qBAAZ,EAAkC,4BAAlC;AACH;AACJ;;AAhB2C,O","sourcesContent":["import { _decorator, Component, Node } from 'cc';\r\nimport { em } from '../../global/EventManager';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('FlyingThunderGod')\r\nexport class FlyingThunderGod extends Component {\r\n    \r\n    _isRun = false;\r\n\r\n    update(deltaTime: number) {\r\n        let hwp = em.dispatch(\"getHeroWorldPos\");\r\n        let cwp = this.node.getWorldPosition();\r\n        let x = hwp.x - cwp.x;\r\n        let y = hwp.y - cwp.y;\r\n        let dis = Math.sqrt(x*x+y*y);\r\n        if(!this._isRun&&dis>800) {\r\n            console.log(\"超过800码，飞雷神标记消失\");\r\n            em.dispatch(\"createTipsTex\", \"超过2000码，飞雷神标记消失\");\r\n            this._isRun = true;\r\n            em.dispatch(\"usingHeroControlFun\",\"resetFlyingThunderGodCount\");\r\n        }\r\n    }\r\n}\r\n\r\n"]}