{"version":3,"sources":["file:///C:/Users/Administrator/Desktop/%E4%BF%AE%E4%BA%86%E4%B8%AA%E4%BB%99/assets/script/hero/gameUI/CurrentRoundMessage.ts"],"names":["_decorator","Component","find","instantiate","Label","ScrollView","em","ccclass","property","CurrentRoundMessage","_messagePrefab","_messagePar","onDestroy","remove","onLoad","add","sendRoundMessage","bind","node","string","message","parent","getComponent","scrollToBottom","active"],"mappings":";;;;;;;;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;AAAiBC,MAAAA,I,OAAAA,I;AAAMC,MAAAA,W,OAAAA,W;AAAaC,MAAAA,K,OAAAA,K;AAAOC,MAAAA,U,OAAAA,U;;AACvDC,MAAAA,E,iBAAAA,E;;;;;;;;;OACH;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBR,U;;qCAGjBS,mB,WADZF,OAAO,CAAC,qBAAD,C,gBAAR,MACaE,mBADb,SACyCR,SADzC,CACmD;AAAA;AAAA;AAAA,eAE/CS,cAF+C;AAAA,eAG/CC,WAH+C;AAAA;;AAI/CC,QAAAA,SAAS,GAAG;AACR;AAAA;AAAA,wBAAGC,MAAH,CAAU,kBAAV;AACH;;AACDC,QAAAA,MAAM,GAAG;AACL;AAAA;AAAA,wBAAGC,GAAH,CAAO,kBAAP,EAA2B,KAAKC,gBAAL,CAAsBC,IAAtB,CAA2B,IAA3B,CAA3B;AACA,eAAKP,cAAL,GAAsBR,IAAI,CAAC,OAAD,EAAU,KAAKgB,IAAf,CAA1B;AACA,eAAKP,WAAL,GAAmBT,IAAI,CAAC,yBAAD,EAA4B,KAAKgB,IAAjC,CAAvB;AACH,SAX8C,CAY/C;;;AACAF,QAAAA,gBAAgB,CAACG,MAAD,EAAgB;AAC5B;AACA,cAAIC,OAAO,GAAGjB,WAAW,CAAC,KAAKO,cAAN,CAAzB;AACAU,UAAAA,OAAO,CAACC,MAAR,GAAiB,KAAKV,WAAtB;AACAS,UAAAA,OAAO,CAACE,YAAR,CAAqBlB,KAArB,EAA4Be,MAA5B,GAAqCA,MAArC;;AACA,eAAKR,WAAL,CAAiBU,MAAjB,CAAwBA,MAAxB,CAA+BC,YAA/B,CAA4CjB,UAA5C,EAAwDkB,cAAxD,CAAuE,CAAvE;;AACAH,UAAAA,OAAO,CAACI,MAAR,GAAiB,IAAjB;AACH;;AApB8C,O","sourcesContent":["import { _decorator, Component, Node, find, instantiate, Label, ScrollView } from 'cc';\r\nimport { em } from '../../global/EventManager';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('CurrentRoundMessage')\r\nexport class CurrentRoundMessage extends Component {\r\n\r\n    _messagePrefab;\r\n    _messagePar;\r\n    onDestroy() {\r\n        em.remove(\"sendRoundMessage\");\r\n    }\r\n    onLoad() {\r\n        em.add(\"sendRoundMessage\", this.sendRoundMessage.bind(this));\r\n        this._messagePrefab = find(\"Label\", this.node);\r\n        this._messagePar = find(\"ScrollView/view/content\", this.node);\r\n    }\r\n    // 发送回合信息\r\n    sendRoundMessage(string:string) {\r\n        // console.log(\"sendRoundMessage\",string);\r\n        let message = instantiate(this._messagePrefab);\r\n        message.parent = this._messagePar;\r\n        message.getComponent(Label).string = string;\r\n        this._messagePar.parent.parent.getComponent(ScrollView).scrollToBottom(1);\r\n        message.active = true;\r\n    }\r\n}\r\n\r\n"]}